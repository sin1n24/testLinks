<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Links Web Î²</title>
    <style>
        body { font-family: sans-serif; display: flex; justify-content: center; }
        #main-canvas { border: 1px solid black; max-width: 100%; height: auto; }
        #ui-container { display: flex; flex-direction: column; padding: 10px; min-width: 300px; }
        #menu-bar { margin-bottom: 10px; }
        #menu-bar button { margin-right: 5px; }
        #param-panel { border: 1px solid #ccc; padding: 5px; margin-top: 10px; }
        .param-item { display: flex; align-items: center; margin-bottom: 5px; }
        .param-item label { width: 150px; flex-shrink: 0; }
        .param-item input[type=range] { flex-grow: 1; margin: 0 5px; }
        label { display: inline-block; } /* Keep this for other labels if any */
        #log-container {
            border: 1px solid #ccc;
            padding: 5px;
            margin: 10px 0;
            height: 100px; /* Approx 5 lines */
            overflow-y: scroll;
            background-color: #f9f9f9;
            font-size: 0.9em;
        }
        /* Responsive Layout */
        @media (max-width: 850px) {
            body {
                flex-direction: column;
                align-items: center;
            }
            #ui-container {
                order: 3; /* Ensure it comes after main-column */
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
                width: 100%;
                max-width: 800px; /* Match canvas width for alignment */
            }
            #main-column {
                order: 2;
                width: 100%;
                max-width: 800px; /* Match canvas width */
            }
            .param-item label {
                width: 110px; /* Shorten label on narrow screens */
            }
        }
    </style>
</head>
<body>
    <div id="main-column">
        <canvas id="main-canvas" width="800" height="600"></canvas>
        <div id="log-container">
            <!-- Log messages will be added here -->
        </div>
    </div>
    <div id="ui-container">
        <div id="menu-bar">
            <!-- Icons will be added here by ui.js -->
        </div>
        <div id="file-io">
             <p>Load .links: <input type="file" id="file-input"></p>
        </div>
        <div id="param-panel">
            <!-- Parameter controls will be added here by ui.js -->
        </div>
        <div id="dxf-inputs">
            <p>Load Crank DXF: <input type="file" id="dxf-crank-input" class="dxf-input" data-part="crank"></p>
            <p>Load Lever DXF: <input type="file" id="dxf-lever-input" class="dxf-input" data-part="lever"></p>
            <p>Load Leg DXF: <input type="file" id="dxf-leg-input" class="dxf-input" data-part="leg"></p>
        </div>
    </div>
    
    <script src="datatypes.js"></script>
    <script src="dxf_parser.js"></script>
    <script src="graphics.js"></script>
    <script src="simulation.js"></script>
    <script src="ui.js"></script>
    <script src="main.js"></script>
</body>
</html>
